/*!
 * Start Bootstrap - Regionalizmy.pl v1.0.0 (https://regionalizmy.pl)
 * Copyright 2013-2020 Michał Kowalik
 * Licensed under MIT (https://github.com/BlackrockDigital/regionalizmy.pl/blob/master/LICENSE)
 */

!function(i){"use strict";i("body").on("input propertychange",".floating-label-form-group",function(e){i(this).toggleClass("floating-label-form-group-with-value",!!i(e.target).val())}).on("focus",".floating-label-form-group",function(){i(this).addClass("floating-label-form-group-with-focus")}).on("blur",".floating-label-form-group",function(){i(this).removeClass("floating-label-form-group-with-focus")});if(992<i(window).width()){var o=i("#mainNav").height();i(window).on("scroll",{previousTop:0},function(){var e=i(window).scrollTop();e<this.previousTop?0<e&&i("#mainNav").hasClass("is-fixed")?i("#mainNav").addClass("is-visible"):i("#mainNav").removeClass("is-visible is-fixed"):e>this.previousTop&&(i("#mainNav").removeClass("is-visible"),o<e&&!i("#mainNav").hasClass("is-fixed")&&i("#mainNav").addClass("is-fixed")),this.previousTop=e})}var t=i.cookie("rgmUserCounty");t&&(t=JSON.parse(t),i(".findCountyInput").val(t.name)),i(".findCountyInput").autocomplete({source:function(e,t){i.ajax({url:"/wp-json/rgm/route/get-counties/"+e.term,success:function(e){var o=i.map(e,function(e){var o="powiat "+e.name;return e.city&&(o=e.name+" (miasto na prawach powiatu)"),{label:o,id:e.id}});t(o)},error:function(){t([])}})},select:function(e,o){var t={id:o.item.id,name:o.item.label};i.cookie("rgmUserCounty",JSON.stringify(t),{expires:7})},autoFill:!0});var e=L.map("rgm-map",{minZoom:7,maxZoom:10}).setView([51.759445,19.457216],6);e.scrollWheelZoom.disable(),L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw",{maxZoom:18,attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',id:"mapbox/light-v9",tileSize:512,zoomOffset:-1}).addTo(e);var a,r=L.control();function n(e){a.setStyle(u(e.target.feature)),r.update()}function s(e){var o={id:e.target.feature.id,name:e.target.feature.properties.name};i.cookie("rgmUserCounty",JSON.stringify(o),{expires:7})&&(a.resetStyle(),e.target.setStyle({fillColor:"red"}),i(".findCountyInput").val(e.target.feature.properties.name))}function l(e){var o=e.target;o.setStyle({weight:5,color:"#666",dashArray:"",fillOpacity:.7}),L.Browser.ie||L.Browser.opera||L.Browser.edge||o.bringToFront(),r.update(o.feature.properties)}function u(e){return{weight:2,opacity:1,color:"green",dashArray:"3",fillOpacity:.7}}r.onAdd=function(e){return this._div=L.DomUtil.create("div","info"),this.update(),this._div},r.update=function(e){this._div.innerHTML="<h4>Lorem ipsum dolor</h4>"+(e?"<b>"+e.name+"</b><br /><span>"+e.subtitle+"</span>":"Zaznacz na mapie powiat w którym mieszkasz lub z którego pochodzisz")},r.addTo(e),a=L.geoJson(countiesData,{style:u,onEachFeature:function(e,o){e.id==t.id&&o.setStyle({fillColor:"red"});o.on({mouseover:l,mouseout:n,click:s})}}).addTo(e),e.attributionControl.addAttribution('Population data &copy; <a href="http://census.gov/">US Census Bureau</a>'),L.control({position:"bottomright"}).onAdd=function(e){for(var o,t,i,a=L.DomUtil.create("div","info legend"),r=[0,15,30,45,60,75,90,100],n=[],s=0;s<r.length;s++)o=r[s],t=r[s+1],n.push('<i style="background:'+(100<(i=o+1)?"#800026":90<i?"#BD0026":75<i?"#E31A1C":60<i?"#FC4E2A":45<i?"#FD8D3C":30<i?"#FEB24C":15<i?"#FED976":"#FFEDA0")+'"></i> '+o+(t?"&ndash;"+t:"+"));return a.innerHTML=n.join("<br>"),a}}(jQuery);