var map=L.map("rgm-map",{minZoom:6,maxZoom:10,gestureHandling:!0}).setView([51.759445,19.457216],7);L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw",{maxZoom:18,attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',id:"mapbox/light-v9",tileSize:512,zoomOffset:-1}).addTo(map);var geojson,info=L.control();function getColor(e){return 100<e?"#800026":90<e?"#BD0026":75<e?"#E31A1C":60<e?"#FC4E2A":45<e?"#FD8D3C":30<e?"#FEB24C":15<e?"#FED976":"#FFEDA0"}info.onAdd=function(e){return this._div=L.DomUtil.create("div","info"),this.update(),this._div},info.update=function(e){this._div.innerHTML="<h5>Skąd jesteś?</h5>"+(e?"<i>"+e.name+"</i><br /><span>"+e.subtitle+"</span>":"Zaznacz swój region")},info.addTo(map),"undefined"!=typeof countiesData&&(geojson=L.geoJson(countiesData,{style:initStyle,onEachFeature:onEachFeature}).addTo(map));function resetHighlight(e){geojson.setStyle(initStyle(e.target.feature)),info.update()}function setCurrentCounty(e){var t={id:e.target.feature.id,name:e.target.feature.properties.name};$.cookie("rgmUserCounty",JSON.stringify(t),{expires:7})&&(geojson.resetStyle(),e.target.setStyle({fillColor:"red"}),$(".findCountyInput").val(e.target.feature.properties.name))}function highlightFeature(e){var t=e.target;t.setStyle({color:"#666",dashArray:"",fillOpacity:.7}),L.Browser.ie||L.Browser.opera||L.Browser.edge||t.bringToFront(),info.update(t.feature.properties)}function initStyle(e){return{weight:2,opacity:1,color:"green",dashArray:"3",fillOpacity:.7}}function onEachFeature(e,t){e.id==rgmCookie().id&&t.setStyle({fillColor:"red"}),t.on({mouseover:highlightFeature,mouseout:resetHighlight,click:setCurrentCounty})}map.attributionControl.addAttribution('Population data &copy; <a href="http://census.gov/">US Census Bureau</a>');var legend=L.control({position:"bottomright"});legend.onAdd=function(e){for(var t,o,i=L.DomUtil.create("div","info legend"),r=[0,15,30,45,60,75,90,100],n=[],a=0;a<r.length;a++)t=r[a],o=r[a+1],n.push('<i style="background:'+getColor(t+1)+'"></i> '+t+(o?"&ndash;"+o:"+"));return i.innerHTML=n.join("<br>"),i};